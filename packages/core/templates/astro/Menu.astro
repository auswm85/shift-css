---
/**
 * Menu Component
 *
 * Dropdown menu container. Use with popover or JavaScript for visibility control.
 * Requires either aria-label or aria-labelledby for accessibility.
 *
 * @example
 * <Menu aria-label="Actions menu">
 *   <MenuItem>Action 1</MenuItem>
 *   <MenuDivider />
 *   <MenuItem>Action 2</MenuItem>
 * </Menu>
 */

export interface Props {
	/** Accessible label for the menu */
	'aria-label'?: string;
	/** ID of element that labels the menu */
	'aria-labelledby'?: string;
	/** Additional classes */
	class?: string;
}

const {
	'aria-label': ariaLabel,
	'aria-labelledby': ariaLabelledby,
	class: className,
	...rest
} = Astro.props;

if (!ariaLabel && !ariaLabelledby) {
	console.warn('[Menu] Accessibility warning: Menu requires either aria-label or aria-labelledby');
}
---

{(ariaLabel || ariaLabelledby) && (
	<div
		s-menu
		role="menu"
		aria-label={ariaLabel}
		aria-labelledby={ariaLabelledby}
		class={className}
		{...rest}
	>
		<slot />
	</div>
)}
