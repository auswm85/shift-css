---
import type { NavGroup } from '../../data/navigation';

interface Props {
	group: NavGroup;
	currentPath: string;
}

const { group, currentPath } = Astro.props;
---

<div class="docs-sidebar-group">
	<span class="docs-sidebar-group-label">{group.label}</span>
	<div class="docs-sidebar-group-items">
		{
			group.items.map((item) => {
				const isActive =
					item.href === currentPath || item.href === currentPath.replace(/\/$/, '');
				const isShowcase = item.href.includes('/showcase/');

				return (
					<a
						href={item.href}
						class="docs-sidebar-link"
						aria-current={isActive ? 'page' : undefined}
						target={isShowcase ? '_blank' : undefined}
						rel={isShowcase ? 'noopener' : undefined}
					>
						{item.label}
						{isShowcase && <span class="external-icon" aria-hidden="true">â†—</span>}
					</a>
				);
			})
		}
	</div>
</div>

<style>
	.docs-sidebar-group-items {
		display: flex;
		flex-direction: column;
		gap: var(--s-space-1);
	}

	.external-icon {
		font-size: 0.75em;
		opacity: 0.6;
		margin-left: var(--s-space-1);
	}
</style>
