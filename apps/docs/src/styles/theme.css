/**
 * Shift CSS Docs Theme
 * "Cyber Teal" - Sharp engineering aesthetic with cyan/teal palette
 * Uses light-dark() for automatic theme switching based on color-scheme
 */

/* Theme fade transition overlay */
.theme-transitioning::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: oklch(10% 0 0);
  animation: theme-fade 0.3s ease-in-out forwards;
  pointer-events: none;
}

@keyframes theme-fade {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

:root {
  /* === THE "PRECISION" SCALE === */
  --s-radius: 0px;
  --s-border-width: 1px;

  /* Override Shift CSS seed hues (sliders will update these) */
  --shift-hue-primary: 200;
  --shift-hue-accent: 140;
  --shift-hue-neutral: 220;

  /* === THE "PLASMA" CORE === (adapts to light/dark) */
  --s-primary: light-dark(
    oklch(40% 0.2 var(--shift-hue-primary)),
    oklch(70% 0.3 var(--shift-hue-primary))
  );
  --s-accent: light-dark(
    oklch(35% 0.25 var(--shift-hue-accent)),
    oklch(60% 0.35 var(--shift-hue-accent))
  );

  /* === THE "VOID" NEUTRAL SCALE === (adapts to light/dark) */
  --void-000: light-dark(
    oklch(98% 0.005 var(--shift-hue-neutral)),
    oklch(8% 0.02 var(--shift-hue-neutral))
  );
  --void-050: light-dark(
    oklch(95% 0.01 var(--shift-hue-neutral)),
    oklch(12% 0.025 var(--shift-hue-neutral))
  );
  --void-100: light-dark(
    oklch(92% 0.015 var(--shift-hue-neutral)),
    oklch(18% 0.04 var(--shift-hue-neutral))
  );
  --void-200: light-dark(
    oklch(85% 0.02 var(--shift-hue-neutral)),
    oklch(25% 0.04 var(--shift-hue-neutral))
  );
  --void-300: light-dark(
    oklch(75% 0.025 var(--shift-hue-neutral)),
    oklch(35% 0.03 var(--shift-hue-neutral))
  );
  --void-400: light-dark(
    oklch(50% 0.025 var(--shift-hue-neutral)),
    oklch(50% 0.025 var(--shift-hue-neutral))
  );
  --void-500: light-dark(
    oklch(35% 0.03 var(--shift-hue-neutral)),
    oklch(65% 0.02 var(--shift-hue-neutral))
  );
  --void-600: light-dark(
    oklch(25% 0.04 var(--shift-hue-neutral)),
    oklch(75% 0.015 var(--shift-hue-neutral))
  );
  --void-700: light-dark(
    oklch(18% 0.04 var(--shift-hue-neutral)),
    oklch(85% 0.01 var(--shift-hue-neutral))
  );
  --void-900: light-dark(
    oklch(8% 0.02 var(--shift-hue-neutral)),
    oklch(95% 0.01 var(--shift-hue-neutral))
  );

  /* === THE "GLOW" STATE === */
  --s-glow: light-dark(
    0 0 10px oklch(50% 0.2 var(--shift-hue-primary) / 0.2),
    0 0 10px oklch(70% 0.25 var(--shift-hue-primary) / 0.25)
  );
  --s-glow-accent: light-dark(
    0 0 8px oklch(45% 0.25 var(--shift-hue-accent) / 0.15),
    0 0 8px oklch(60% 0.3 var(--shift-hue-accent) / 0.2)
  );

  /* Override Shift CSS radius */
  --s-radius-sm: 0;
  --s-radius-base: 0;
  --s-radius-md: 0;
  --s-radius-lg: 0;
  --s-radius-xl: 0;

  /* === SEMANTIC TOKENS === (use void scale) */
  --s-text-primary: var(--void-900);
  --s-text-secondary: var(--void-700);
  --s-text-muted: var(--void-500);

  --s-surface-base: var(--void-000);
  --s-surface-subtle: var(--void-050);
  --s-surface-sunken: light-dark(var(--void-100), var(--void-000));
  --s-surface-hover: light-dark(var(--void-200), var(--void-100));

  --s-border-default: var(--void-200);
  --s-border-hover: var(--void-300);

  --s-interactive-primary: var(--s-primary);
  --s-text-on-primary: var(--void-000);
}

/* =============================================================================
   COMPONENT OVERRIDES - "Plasma" Style
   ============================================================================= */

/* Sharp corners everywhere */
[s-btn],
[s-card],
[s-surface],
[s-input],
select[s-input] {
  border-radius: var(--s-radius) !important;
}

/* Cards - sharp with subtle border */
[s-card] {
  border: var(--s-border-width) solid var(--void-200);
  background: var(--void-050);
  color: var(--void-900);
}

[s-card] > p,
[s-card-body] > p,
[s-card-subtitle] {
  color: var(--void-700);
}

[s-card] h4,
[s-card-title] {
  color: var(--void-900);
}

/* Surfaces - text visibility for elevation surfaces only (not brand/state surfaces) */
[s-surface="flat"],
[s-surface="sunken"],
[s-surface="raised"],
[s-surface="floating"] {
  color: var(--void-900);
}

[s-surface="flat"] h4,
[s-surface="sunken"] h4,
[s-surface="raised"] h4,
[s-surface="floating"] h4 {
  color: var(--void-900);
}

[s-surface="flat"] > p,
[s-surface="sunken"] > p,
[s-surface="raised"] > p,
[s-surface="floating"] > p {
  color: var(--void-500);
}

[s-surface="flat"] {
  background: var(--void-050);
  border: var(--s-border-width) solid var(--void-200);
}

[s-surface="raised"] {
  background: var(--void-100);
  border: var(--s-border-width) solid var(--void-200);
  box-shadow: 0 2px 8px oklch(from var(--void-000) l c h / 0.3);
}

[s-surface="sunken"] {
  background: var(--void-000);
  border: var(--s-border-width) solid var(--void-200);
  box-shadow: inset 0 1px 3px oklch(from var(--void-000) l c h / 0.2);
}

[s-surface="floating"] {
  background: var(--void-100);
  border: var(--s-border-width) solid var(--void-200);
  box-shadow: 0 4px 16px oklch(from var(--void-000) l c h / 0.4);
}

/* Inputs - terminal style */
[s-input],
select[s-input] {
  border: var(--s-border-width) solid var(--void-300);
  background: var(--void-000);

  &:focus {
    border-color: var(--s-primary);
    box-shadow: var(--s-glow);
    outline: none;
  }
}

[s-input-addon] {
  color: var(--void-600);
  background: var(--void-100);
}

/* Code blocks - theme aesthetic overrides (colors handled by shiki.css layer) */
pre {
  border-radius: 0 !important;
}

/* Inline code */
code:not(pre code) {
  background: var(--void-100);
  padding: 0.125em 0.25em;
  border-radius: 0;
}

/* Modals - ensure text visibility */
dialog[s-modal] {
  background: var(--void-100) !important;
  color: var(--void-900) !important;
}

dialog[s-modal] h1,
dialog[s-modal] h2,
dialog[s-modal] h3,
dialog[s-modal] p,
dialog[s-modal] li,
[s-modal-header] h1,
[s-modal-header] h2,
[s-modal-header] h3 {
  color: var(--void-900) !important;
}

[s-modal-header] {
  border-color: var(--void-200);
}

[s-modal-footer] {
  border-color: var(--void-200);
}

[s-modal-close] {
  color: var(--void-500);
}

[s-modal-close]:hover {
  color: var(--void-900);
  background: var(--void-200);
}

/* Links - plasma colored */
a:not([s-btn]) {
  text-decoration-color: oklch(from var(--s-primary) l c h / 0.4);

  &:hover {
    text-decoration-color: var(--s-primary);
  }
}
