---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
---

<StarlightPage frontmatter={{ title: 'Live Demo', description: 'Interactive demo of Shift CSS' }}>
	<div class="demo-page">
		<p class="intro">Adjust the seed hues to see the entire color system update in real-time.</p>

		<div class="customization-panel">
			<div class="hue-sliders">
				<div class="hue-slider">
					<label>Primary Hue: <span class="hue-value" id="primary-value">200</span>°</label>
					<input type="range" min="0" max="360" value="200" id="primary-slider" />
				</div>
				<div class="hue-slider">
					<label>Neutral Hue: <span class="hue-value" id="neutral-value">220</span>°</label>
					<input type="range" min="0" max="360" value="220" id="neutral-slider" />
				</div>
				<div class="hue-slider">
					<label>Accent Hue: <span class="hue-value" id="accent-value">140</span>°</label>
					<input type="range" min="0" max="360" value="140" id="accent-slider" />
				</div>
			</div>
		</div>

		<h2>Color Scales</h2>

		<h3>Primary</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--s-primary-50); color: var(--s-primary-900);">50</div>
			<div class="color-swatch" style="background: var(--s-primary-100); color: var(--s-primary-900);">100</div>
			<div class="color-swatch" style="background: var(--s-primary-200); color: var(--s-primary-900);">200</div>
			<div class="color-swatch" style="background: var(--s-primary-300); color: var(--s-primary-900);">300</div>
			<div class="color-swatch" style="background: var(--s-primary-400); color: var(--s-primary-950);">400</div>
			<div class="color-swatch" style="background: var(--s-primary-500); color: var(--s-primary-50);">500</div>
			<div class="color-swatch" style="background: var(--s-primary-600); color: var(--s-primary-50);">600</div>
			<div class="color-swatch" style="background: var(--s-primary-700); color: var(--s-primary-50);">700</div>
			<div class="color-swatch" style="background: var(--s-primary-800); color: var(--s-primary-50);">800</div>
			<div class="color-swatch" style="background: var(--s-primary-900); color: var(--s-primary-50);">900</div>
			<div class="color-swatch" style="background: var(--s-primary-950); color: var(--s-primary-50);">950</div>
		</div>

		<h3>Neutral (Brand-Tinted Grays)</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--s-neutral-50); color: var(--s-neutral-900);">50</div>
			<div class="color-swatch" style="background: var(--s-neutral-100); color: var(--s-neutral-900);">100</div>
			<div class="color-swatch" style="background: var(--s-neutral-200); color: var(--s-neutral-900);">200</div>
			<div class="color-swatch" style="background: var(--s-neutral-300); color: var(--s-neutral-900);">300</div>
			<div class="color-swatch" style="background: var(--s-neutral-400); color: var(--s-neutral-950);">400</div>
			<div class="color-swatch" style="background: var(--s-neutral-500); color: var(--s-neutral-50);">500</div>
			<div class="color-swatch" style="background: var(--s-neutral-600); color: var(--s-neutral-50);">600</div>
			<div class="color-swatch" style="background: var(--s-neutral-700); color: var(--s-neutral-50);">700</div>
			<div class="color-swatch" style="background: var(--s-neutral-800); color: var(--s-neutral-50);">800</div>
			<div class="color-swatch" style="background: var(--s-neutral-900); color: var(--s-neutral-50);">900</div>
			<div class="color-swatch" style="background: var(--s-neutral-950); color: var(--s-neutral-50);">950</div>
		</div>

		<h3>Status Colors</h3>
		<div class="demo-row">
			<div class="status-swatch" style="background: var(--s-success-500);">Success</div>
			<div class="status-swatch" style="background: var(--s-warning-500);">Warning</div>
			<div class="status-swatch" style="background: var(--s-danger-500);">Danger</div>
		</div>

		<h2>Surfaces</h2>
		<div class="demo-grid">
			<div s-surface="flat">
				<h4>Flat Surface</h4>
				<p>Default surface using <code>s-surface="flat"</code>.</p>
			</div>
			<div s-surface="raised">
				<h4>Raised Surface</h4>
				<p>Elevated using <code>s-surface="raised"</code>.</p>
			</div>
			<div s-surface="sunken">
				<h4>Sunken Surface</h4>
				<p>Recessed using <code>s-surface="sunken"</code>.</p>
			</div>
		</div>

		<h2>Buttons</h2>
		<div class="demo-row">
			<button s-btn="primary">Primary</button>
			<button s-btn="secondary">Secondary</button>
			<button s-btn="ghost">Ghost</button>
			<button s-btn="link">Link</button>
		</div>

		<h3>Sizes</h3>
		<div class="demo-row">
			<button s-btn="primary" s-size="sm">Small</button>
			<button s-btn="primary">Medium</button>
			<button s-btn="primary" s-size="lg">Large</button>
		</div>

		<h3>States</h3>
		<div class="demo-row">
			<button s-btn="primary">Normal</button>
			<button s-btn="primary" disabled>Disabled</button>
		</div>

		<h2>Cards</h2>
		<div class="demo-grid">
			<article s-card>
				<header s-card-header>
					<h4>Card Title</h4>
				</header>
				<div s-card-body>
					<p>Basic card with header and body.</p>
				</div>
				<footer s-card-footer>
					<button s-btn="primary" s-size="sm">Action</button>
				</footer>
			</article>
			<article s-card>
				<div s-card-body>
					<h4>Simple Card</h4>
					<p>Card with just a body section.</p>
				</div>
			</article>
		</div>

		<h2>Inputs</h2>
		<div class="demo-grid">
			<div s-field>
				<label s-label>Text Input</label>
				<input s-input type="text" placeholder="Enter text..." />
			</div>
			<div s-field>
				<label s-label>Select</label>
				<select s-input>
					<option>Option 1</option>
					<option>Option 2</option>
					<option>Option 3</option>
				</select>
			</div>
		</div>

		<h2>Typography</h2>
		<div class="typography-demo">
			<p style="font-size: var(--s-text-xs);">text-xs: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-sm);">text-sm: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-base);">text-base: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-lg);">text-lg: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-xl);">text-xl: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-2xl);">text-2xl: The quick brown fox</p>
			<p style="font-size: var(--s-text-3xl);">text-3xl: The quick brown fox</p>
		</div>
	</div>
</StarlightPage>

<style>
	/* Reset Starlight's default margins inside our components */
	.demo-page [s-surface] :where(h4, p),
	.demo-page [s-card] :where(h4, p),
	.demo-page [s-btn] {
		margin: 0;
	}

	.demo-page {
		max-width: 900px;
	}

	.intro {
		color: var(--s-neutral-500);
		margin-bottom: var(--s-space-6);
	}

	.customization-panel {
		background: var(--s-neutral-050);
		border: var(--s-border-width) solid var(--s-neutral-200);
		border-radius: var(--s-radius);
		padding: var(--s-space-6);
		margin-bottom: var(--s-space-8);
	}

	.hue-sliders {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: var(--s-space-4);
	}

	.hue-slider label {
		display: block;
		font-size: var(--s-text-sm);
		font-weight: var(--s-font-medium);
		margin-bottom: var(--s-space-2);
	}

	.hue-slider input[type="range"] {
		width: 100%;
		accent-color: var(--s-primary);
	}

	.hue-value {
		font-family: var(--s-font-mono);
	}

	h2 {
		margin-top: var(--s-space-10);
		margin-bottom: var(--s-space-4);
		padding-bottom: var(--s-space-2);
		border-bottom: var(--s-border-width) solid var(--s-neutral-200);
	}

	h3 {
		color: var(--s-neutral-500);
		font-size: var(--s-text-base);
		margin-top: var(--s-space-6);
		margin-bottom: var(--s-space-3);
	}

	h4 {
		margin: 0 0 var(--s-space-2);
	}

	.color-scale {
		display: flex;
		border-radius: var(--s-radius);
		overflow: hidden;
		margin-bottom: var(--s-space-4);
	}

	.color-swatch {
		flex: 1;
		min-width: 40px;
		height: 48px;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: var(--s-text-xs);
		font-weight: var(--s-font-medium);
	}

	.status-swatch {
		padding: var(--s-space-3) var(--s-space-4);
		border-radius: var(--s-radius);
		color: white;
		font-weight: var(--s-font-medium);
		font-size: var(--s-text-sm);
	}

	.demo-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: var(--s-space-4);
		margin-bottom: var(--s-space-4);
	}

	.demo-row {
		display: flex;
		flex-wrap: wrap;
		gap: var(--s-space-3);
		align-items: center;
		margin-bottom: var(--s-space-4);
	}

	/* Reset Starlight's lobotomized owl selector (adds margin-top to siblings) */
	.demo-page * + * {
		margin-top: 0;
	}

	.typography-demo {
		background: var(--s-neutral-050);
		padding: var(--s-space-6);
		border-radius: var(--s-radius);
		border: var(--s-border-width) solid var(--s-neutral-200);
	}

	.typography-demo p {
		margin-bottom: var(--s-space-2);
	}

	.typography-demo p:last-child {
		margin-bottom: 0;
	}

	.demo-page [s-surface] p,
	.demo-page [s-card] p {
		color: var(--s-neutral-500);
		font-size: var(--s-text-sm);
		margin: 0;
	}

	/* Add padding to surfaces in demo */
	.demo-page [s-surface] {
		padding: var(--s-space-4);
	}
</style>

<script>
	document.getElementById('primary-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-primary', value);
		document.getElementById('primary-value')!.textContent = value;
	});

	document.getElementById('neutral-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-neutral', value);
		document.getElementById('neutral-value')!.textContent = value;
	});

	document.getElementById('accent-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-accent', value);
		document.getElementById('accent-value')!.textContent = value;
	});
</script>
