---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
---

<StarlightPage frontmatter={{ title: 'Live Demo', description: 'Interactive demo of Shift CSS' }}>
	<div class="demo-page">
		<p class="intro">Adjust the seed hues to see the entire color system update in real-time.</p>

		<div class="customization-panel">
			<div class="hue-sliders">
				<div class="hue-slider">
					<label>Primary Hue: <span class="hue-value" id="primary-value">200</span>°</label>
					<input type="range" min="0" max="360" value="200" id="primary-slider" />
				</div>
				<div class="hue-slider">
					<label>Neutral Hue: <span class="hue-value" id="neutral-value">220</span>°</label>
					<input type="range" min="0" max="360" value="220" id="neutral-slider" />
				</div>
				<div class="hue-slider">
					<label>Accent Hue: <span class="hue-value" id="accent-value">140</span>°</label>
					<input type="range" min="0" max="360" value="140" id="accent-slider" />
				</div>
			</div>
		</div>

		<h2>Color Scales</h2>

		<h3>Primary</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--s-primary-50); color: var(--s-primary-900);">50</div>
			<div class="color-swatch" style="background: var(--s-primary-100); color: var(--s-primary-900);">100</div>
			<div class="color-swatch" style="background: var(--s-primary-200); color: var(--s-primary-900);">200</div>
			<div class="color-swatch" style="background: var(--s-primary-300); color: var(--s-primary-900);">300</div>
			<div class="color-swatch" style="background: var(--s-primary-400); color: var(--s-primary-950);">400</div>
			<div class="color-swatch" style="background: var(--s-primary-500); color: var(--s-primary-50);">500</div>
			<div class="color-swatch" style="background: var(--s-primary-600); color: var(--s-primary-50);">600</div>
			<div class="color-swatch" style="background: var(--s-primary-700); color: var(--s-primary-50);">700</div>
			<div class="color-swatch" style="background: var(--s-primary-800); color: var(--s-primary-50);">800</div>
			<div class="color-swatch" style="background: var(--s-primary-900); color: var(--s-primary-50);">900</div>
			<div class="color-swatch" style="background: var(--s-primary-950); color: var(--s-primary-50);">950</div>
		</div>

		<h3>Neutral (Brand-Tinted Grays)</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--s-neutral-50); color: var(--s-neutral-900);">50</div>
			<div class="color-swatch" style="background: var(--s-neutral-100); color: var(--s-neutral-900);">100</div>
			<div class="color-swatch" style="background: var(--s-neutral-200); color: var(--s-neutral-900);">200</div>
			<div class="color-swatch" style="background: var(--s-neutral-300); color: var(--s-neutral-900);">300</div>
			<div class="color-swatch" style="background: var(--s-neutral-400); color: var(--s-neutral-950);">400</div>
			<div class="color-swatch" style="background: var(--s-neutral-500); color: var(--s-neutral-50);">500</div>
			<div class="color-swatch" style="background: var(--s-neutral-600); color: var(--s-neutral-50);">600</div>
			<div class="color-swatch" style="background: var(--s-neutral-700); color: var(--s-neutral-50);">700</div>
			<div class="color-swatch" style="background: var(--s-neutral-800); color: var(--s-neutral-50);">800</div>
			<div class="color-swatch" style="background: var(--s-neutral-900); color: var(--s-neutral-50);">900</div>
			<div class="color-swatch" style="background: var(--s-neutral-950); color: var(--s-neutral-50);">950</div>
		</div>

		<h3>Status Colors</h3>
		<div class="demo-row">
			<div class="status-swatch" style="background: var(--s-success-500);">Success</div>
			<div class="status-swatch" style="background: var(--s-warning-500);">Warning</div>
			<div class="status-swatch" style="background: var(--s-danger-500);">Danger</div>
		</div>

		<h2>Surfaces</h2>

		<h3>Elevation Variants</h3>
		<div class="demo-grid">
			<div s-surface="sunken">
				<h4>Sunken</h4>
				<p><code>s-surface="sunken"</code></p>
			</div>
			<div s-surface="flat">
				<h4>Flat</h4>
				<p><code>s-surface="flat"</code></p>
			</div>
			<div s-surface="raised">
				<h4>Raised</h4>
				<p><code>s-surface="raised"</code></p>
			</div>
			<div s-surface="floating">
				<h4>Floating</h4>
				<p><code>s-surface="floating"</code></p>
			</div>
		</div>

		<h3>Modifiers</h3>
		<div class="demo-grid">
			<div s-surface="flat" s-bordered>
				<h4>Bordered</h4>
				<p><code>s-bordered</code></p>
			</div>
			<div s-surface="raised" s-interactive>
				<h4>Interactive</h4>
				<p><code>s-interactive</code> - hover me!</p>
			</div>
		</div>

		<h3>Color Variants</h3>
		<div class="demo-grid">
			<div s-surface="primary">
				<h4>Primary</h4>
				<p><code>s-surface="primary"</code></p>
			</div>
			<div s-surface="secondary">
				<h4>Secondary</h4>
				<p><code>s-surface="secondary"</code></p>
			</div>
			<div s-surface="accent">
				<h4>Accent</h4>
				<p><code>s-surface="accent"</code></p>
			</div>
		</div>

		<h3>State Surfaces</h3>
		<div class="demo-grid">
			<div s-surface="success">
				<h4>Success</h4>
				<p>For success messages</p>
			</div>
			<div s-surface="warning">
				<h4>Warning</h4>
				<p>For warning messages</p>
			</div>
			<div s-surface="danger">
				<h4>Danger</h4>
				<p>For error messages</p>
			</div>
		</div>

		<h2>Buttons</h2>

		<h3>Variants</h3>
		<div class="demo-row">
			<button s-btn="primary">Primary</button>
			<button s-btn="secondary">Secondary</button>
			<button s-btn="outline">Outline</button>
			<button s-btn="ghost">Ghost</button>
			<button s-btn="link">Link</button>
		</div>

		<h3>State Variants</h3>
		<div class="demo-row">
			<button s-btn="danger">Danger</button>
			<button s-btn="success">Success</button>
			<button s-btn="warning">Warning</button>
		</div>

		<h3>Sizes</h3>
		<div class="demo-row">
			<button s-btn="primary" s-size="sm">Small</button>
			<button s-btn="primary">Medium</button>
			<button s-btn="primary" s-size="lg">Large</button>
			<button s-btn="primary" s-size="xl">Extra Large</button>
		</div>

		<h3>States & Modifiers</h3>
		<div class="demo-row">
			<button s-btn="primary" disabled>Disabled</button>
			<button s-btn="primary" s-loading>Loading</button>
			<button s-btn="primary" s-icon>
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
			</button>
		</div>

		<h3>Full Width</h3>
		<button s-btn="primary" s-block>Full Width Button</button>

		<h3>Button Group</h3>
		<div class="demo-row">
			<div s-btn-group>
				<button s-btn="secondary">Left</button>
				<button s-btn="secondary">Center</button>
				<button s-btn="secondary">Right</button>
			</div>
		</div>

		<h2>Cards</h2>

		<h3>Basic Cards</h3>
		<div class="demo-grid">
			<article s-card>
				<header s-card-header>
					<h4>Card with Header</h4>
				</header>
				<div s-card-body>
					<p>Card body content goes here.</p>
				</div>
				<footer s-card-footer>
					<button s-btn="primary" s-size="sm">Action</button>
				</footer>
			</article>
			<article s-card>
				<div s-card-body>
					<h4 s-card-title>Card Title</h4>
					<p s-card-subtitle>Card subtitle text</p>
					<p>Using semantic title/subtitle attributes.</p>
				</div>
			</article>
		</div>

		<h3>Media Card</h3>
		<div class="demo-grid">
			<article s-card>
				<div s-card-media>
					<img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=400&h=225&fit=crop" alt="Abstract gradient" />
				</div>
				<div s-card-body>
					<h4 s-card-title>Media Card</h4>
					<p s-card-subtitle>With image container</p>
					<p>Using <code>s-card-media</code> for 16:9 images.</p>
				</div>
			</article>
			<article s-card s-horizontal>
				<div s-card-media>
					<img src="https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=200&h=200&fit=crop" alt="Abstract art" />
				</div>
				<div s-card-body>
					<h4 s-card-title>Horizontal Card</h4>
					<p s-card-subtitle>Side-by-side layout</p>
					<p>Using <code>s-horizontal</code> modifier.</p>
				</div>
			</article>
		</div>

		<h3>Card Variants</h3>
		<div class="demo-grid">
			<article s-card="flat">
				<div s-card-body>
					<h4>Flat Card</h4>
					<p><code>s-card="flat"</code></p>
				</div>
			</article>
			<article s-card="elevated">
				<div s-card-body>
					<h4>Elevated Card</h4>
					<p><code>s-card="elevated"</code></p>
				</div>
			</article>
			<article s-card="outline">
				<div s-card-body>
					<h4>Outline Card</h4>
					<p><code>s-card="outline"</code></p>
				</div>
			</article>
		</div>

		<h3>Interactive Card</h3>
		<div class="demo-grid">
			<article s-card s-interactive>
				<div s-card-body>
					<h4>Hover Me!</h4>
					<p><code>s-interactive</code> adds lift on hover.</p>
				</div>
			</article>
		</div>

		<h2>Inputs</h2>

		<h3>Text Inputs</h3>
		<div class="demo-grid">
			<div s-field>
				<label s-field-label>Text Input</label>
				<input s-input type="text" placeholder="Enter text..." />
			</div>
			<div s-field>
				<label s-field-label>With Hint</label>
				<input s-input type="email" placeholder="you@example.com" />
				<span s-field-hint>We'll never share your email.</span>
			</div>
			<div s-field>
				<label s-field-label>With Error</label>
				<input s-input type="text" aria-invalid="true" value="Invalid input" />
				<span s-field-error>This field has an error.</span>
			</div>
		</div>

		<h3>Input Sizes</h3>
		<div class="demo-grid">
			<div s-field>
				<label s-field-label>Small</label>
				<input s-input s-size="sm" type="text" placeholder="Small input" />
			</div>
			<div s-field>
				<label s-field-label>Default</label>
				<input s-input type="text" placeholder="Default input" />
			</div>
			<div s-field>
				<label s-field-label>Large</label>
				<input s-input s-size="lg" type="text" placeholder="Large input" />
			</div>
		</div>

		<h3>Input Groups</h3>
		<div class="demo-grid">
			<div s-field>
				<label s-field-label>URL</label>
				<div s-input-group>
					<span s-input-addon>https://</span>
					<input s-input type="text" placeholder="example.com" />
				</div>
			</div>
			<div s-field>
				<label s-field-label>Price</label>
				<div s-input-group>
					<input s-input type="number" placeholder="0.00" />
					<span s-input-addon>USD</span>
				</div>
			</div>
		</div>

		<h3>Select & Textarea</h3>
		<div class="demo-grid">
			<div s-field>
				<label s-field-label>Select</label>
				<select s-input>
					<option>Option 1</option>
					<option>Option 2</option>
					<option>Option 3</option>
				</select>
			</div>
			<div s-field>
				<label s-field-label>Textarea</label>
				<textarea s-input rows="3" placeholder="Enter message..."></textarea>
			</div>
		</div>

		<h3>Checkbox, Radio & Toggle</h3>
		<div class="demo-grid">
			<div class="form-controls">
				<label s-checkbox>
					<input type="checkbox" checked />
					Checkbox option
				</label>
				<label s-checkbox>
					<input type="checkbox" />
					Another option
				</label>
			</div>
			<div class="form-controls">
				<label s-radio>
					<input type="radio" name="demo-radio" checked />
					Radio option 1
				</label>
				<label s-radio>
					<input type="radio" name="demo-radio" />
					Radio option 2
				</label>
			</div>
			<div class="form-controls">
				<label s-toggle>
					<input type="checkbox" checked />
					Enable feature
				</label>
				<label s-toggle>
					<input type="checkbox" />
					Another toggle
				</label>
			</div>
		</div>

		<h2>Typography</h2>
		<div class="typography-demo">
			<p style="font-size: var(--s-text-xs);">text-xs: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-sm);">text-sm: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-base);">text-base: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-lg);">text-lg: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-xl);">text-xl: The quick brown fox jumps</p>
			<p style="font-size: var(--s-text-2xl);">text-2xl: The quick brown fox</p>
			<p style="font-size: var(--s-text-3xl);">text-3xl: The quick brown fox</p>
		</div>
	</div>
</StarlightPage>

<style>
	/* Reset Starlight's default margins and colors inside our components */
	.demo-page [s-surface] :where(h4, p),
	.demo-page [s-card] :where(h4, p),
	.demo-page [s-btn] {
		margin: 0;
	}

	.demo-page {
		max-width: 900px;
	}

	.intro {
		color: var(--s-text-primary);
		margin-bottom: var(--s-space-6);
	}

	.customization-panel {
		background: var(--s-surface-sunken);
		border: 1px solid var(--s-border-default);
		border-radius: var(--s-radius-lg);
		padding: var(--s-space-6);
		margin-bottom: var(--s-space-8);
	}

	.hue-sliders {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: var(--s-space-4);
	}

	.hue-slider label {
		display: block;
		font-size: var(--s-text-sm);
		font-weight: var(--s-font-medium);
		margin-bottom: var(--s-space-2);
	}

	.hue-slider input[type="range"] {
		width: 100%;
		accent-color: var(--s-interactive-primary);
	}

	.hue-value {
		font-family: var(--s-font-mono);
	}

	h2 {
		margin-top: var(--s-space-10);
		margin-bottom: var(--s-space-4);
		padding-bottom: var(--s-space-2);
		border-bottom: 1px solid var(--s-border-default);
	}

	h3 {
		color: var(--s-text-primary);
		font-size: var(--s-text-base);
		margin-top: var(--s-space-6);
		margin-bottom: var(--s-space-3);
	}

	h4 {
		margin: 0 0 var(--s-space-2);
	}

	.color-scale {
		display: flex;
		border-radius: var(--s-radius-md);
		overflow: hidden;
		margin-bottom: var(--s-space-4);
	}

	.color-swatch {
		flex: 1;
		min-width: 40px;
		height: 48px;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: var(--s-text-xs);
		font-weight: var(--s-font-medium);
	}

	.status-swatch {
		padding: var(--s-space-3) var(--s-space-4);
		border-radius: var(--s-radius-md);
		color: white;
		font-weight: var(--s-font-medium);
		font-size: var(--s-text-sm);
	}

	.demo-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
		gap: var(--s-space-4);
		margin-bottom: var(--s-space-4);
	}

	.demo-row {
		display: flex;
		flex-wrap: wrap;
		gap: var(--s-space-3);
		align-items: center;
		margin-bottom: var(--s-space-4);
	}

	/* Reset Starlight's lobotomized owl selector (adds margin-top to siblings) */
	.demo-page * + * {
		margin-top: 0;
	}

	.typography-demo {
		background: var(--s-surface-sunken);
		padding: var(--s-space-6);
		border-radius: var(--s-radius-lg);
		border: 1px solid var(--s-border-default);
	}

	.typography-demo p {
		margin-bottom: var(--s-space-2);
	}

	.typography-demo p:last-child {
		margin-bottom: 0;
	}

	.demo-page [s-card] p {
		color: var(--s-text-secondary);
		font-size: var(--s-text-sm);
		margin: 0;
	}

	.demo-page [s-surface] p {
		font-size: var(--s-text-sm);
		margin: 0;
	}

	/* Slightly dim subtext on color variant surfaces for hierarchy */
	.demo-page [s-surface="primary"] p,
	.demo-page [s-surface="secondary"] p,
	.demo-page [s-surface="accent"] p {
		opacity: 0.85;
	}

	/* Add padding to surfaces in demo */
	.demo-page [s-surface] {
		padding: var(--s-space-4);
	}

	/* Form controls layout */
	.form-controls {
		display: flex;
		flex-direction: column;
		gap: var(--s-space-2);
	}

	/* Full width button spacing */
	.demo-page [s-btn][s-block] {
		margin-bottom: var(--s-space-4);
	}
</style>

<script>
	document.getElementById('primary-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-primary', value);
		document.getElementById('primary-value')!.textContent = value;
	});

	document.getElementById('neutral-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-neutral', value);
		document.getElementById('neutral-value')!.textContent = value;
	});

	document.getElementById('accent-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-accent', value);
		document.getElementById('accent-value')!.textContent = value;
	});
</script>
