---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
---

<StarlightPage frontmatter={{ title: 'Live Demo', description: 'Interactive demo of Shift CSS' }}>
	<div class="demo-page">
		<p class="intro">Adjust the seed hues to see the entire color system update in real-time.</p>

		<div class="customization-panel">
			<div class="hue-sliders">
				<div class="hue-slider">
					<label>Primary Hue: <span class="hue-value" id="primary-value">250</span>°</label>
					<input type="range" min="0" max="360" value="250" id="primary-slider" />
				</div>
				<div class="hue-slider">
					<label>Neutral Hue: <span class="hue-value" id="neutral-value">250</span>°</label>
					<input type="range" min="0" max="360" value="250" id="neutral-slider" />
				</div>
				<div class="hue-slider">
					<label>Accent Hue: <span class="hue-value" id="accent-value">30</span>°</label>
					<input type="range" min="0" max="360" value="30" id="accent-slider" />
				</div>
			</div>
		</div>

		<h2>Color Scales</h2>

		<h3>Primary</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--color-primary-50); color: var(--color-primary-900);">50</div>
			<div class="color-swatch" style="background: var(--color-primary-100); color: var(--color-primary-900);">100</div>
			<div class="color-swatch" style="background: var(--color-primary-200); color: var(--color-primary-900);">200</div>
			<div class="color-swatch" style="background: var(--color-primary-300); color: var(--color-primary-900);">300</div>
			<div class="color-swatch" style="background: var(--color-primary-400); color: var(--color-primary-950);">400</div>
			<div class="color-swatch" style="background: var(--color-primary-500); color: var(--color-primary-50);">500</div>
			<div class="color-swatch" style="background: var(--color-primary-600); color: var(--color-primary-50);">600</div>
			<div class="color-swatch" style="background: var(--color-primary-700); color: var(--color-primary-50);">700</div>
			<div class="color-swatch" style="background: var(--color-primary-800); color: var(--color-primary-50);">800</div>
			<div class="color-swatch" style="background: var(--color-primary-900); color: var(--color-primary-50);">900</div>
			<div class="color-swatch" style="background: var(--color-primary-950); color: var(--color-primary-50);">950</div>
		</div>

		<h3>Neutral (Brand-Tinted Grays)</h3>
		<div class="color-scale">
			<div class="color-swatch" style="background: var(--color-neutral-50); color: var(--color-neutral-900);">50</div>
			<div class="color-swatch" style="background: var(--color-neutral-100); color: var(--color-neutral-900);">100</div>
			<div class="color-swatch" style="background: var(--color-neutral-200); color: var(--color-neutral-900);">200</div>
			<div class="color-swatch" style="background: var(--color-neutral-300); color: var(--color-neutral-900);">300</div>
			<div class="color-swatch" style="background: var(--color-neutral-400); color: var(--color-neutral-950);">400</div>
			<div class="color-swatch" style="background: var(--color-neutral-500); color: var(--color-neutral-50);">500</div>
			<div class="color-swatch" style="background: var(--color-neutral-600); color: var(--color-neutral-50);">600</div>
			<div class="color-swatch" style="background: var(--color-neutral-700); color: var(--color-neutral-50);">700</div>
			<div class="color-swatch" style="background: var(--color-neutral-800); color: var(--color-neutral-50);">800</div>
			<div class="color-swatch" style="background: var(--color-neutral-900); color: var(--color-neutral-50);">900</div>
			<div class="color-swatch" style="background: var(--color-neutral-950); color: var(--color-neutral-50);">950</div>
		</div>

		<h3>Status Colors</h3>
		<div class="demo-row">
			<div class="status-swatch" style="background: var(--color-success-500);">Success</div>
			<div class="status-swatch" style="background: var(--color-warning-500);">Warning</div>
			<div class="status-swatch" style="background: var(--color-danger-500);">Danger</div>
		</div>

		<h2>Surfaces</h2>
		<div class="demo-grid">
			<div class="surface">
				<h4>Base Surface</h4>
				<p>Default surface using <code>--surface-base</code>.</p>
			</div>
			<div class="surface surface--raised">
				<h4>Raised Surface</h4>
				<p>Elevated using <code>--surface-raised</code>.</p>
			</div>
			<div class="surface surface--sunken">
				<h4>Sunken Surface</h4>
				<p>Recessed using <code>--surface-sunken</code>.</p>
			</div>
		</div>

		<h2>Buttons</h2>
		<div class="demo-row">
			<button class="btn">Primary (Default)</button>
			<button class="btn btn--secondary">Secondary</button>
			<button class="btn btn--outline">Outline</button>
			<button class="btn btn--ghost">Ghost</button>
		</div>

		<h3>Sizes</h3>
		<div class="demo-row">
			<button class="btn btn--sm">Small</button>
			<button class="btn">Medium</button>
			<button class="btn btn--lg">Large</button>
		</div>

		<h3>States</h3>
		<div class="demo-row">
			<button class="btn btn--success">Success</button>
			<button class="btn btn--warning">Warning</button>
			<button class="btn btn--danger">Danger</button>
			<button class="btn" disabled>Disabled</button>
		</div>

		<h2>Cards</h2>
		<div class="demo-grid">
			<div class="card">
				<div class="card__header">
					<h4>Card Title</h4>
				</div>
				<div class="card__body">
					<p>Basic card with header and body.</p>
				</div>
				<div class="card__footer">
					<button class="btn btn--sm">Action</button>
				</div>
			</div>
			<div class="card card--interactive">
				<div class="card__body">
					<h4>Interactive Card</h4>
					<p>Hover to see the interactive state.</p>
				</div>
			</div>
		</div>

		<h2>Inputs</h2>
		<div class="demo-grid">
			<div>
				<label class="input-label">Text Input</label>
				<input type="text" class="input" placeholder="Enter text..." />
			</div>
			<div>
				<label class="input-label">Select</label>
				<select class="input">
					<option>Option 1</option>
					<option>Option 2</option>
					<option>Option 3</option>
				</select>
			</div>
		</div>

		<h2>Typography</h2>
		<div class="typography-demo">
			<p style="font-size: var(--text-xs);">text-xs: The quick brown fox jumps</p>
			<p style="font-size: var(--text-sm);">text-sm: The quick brown fox jumps</p>
			<p style="font-size: var(--text-base);">text-base: The quick brown fox jumps</p>
			<p style="font-size: var(--text-lg);">text-lg: The quick brown fox jumps</p>
			<p style="font-size: var(--text-xl);">text-xl: The quick brown fox jumps</p>
			<p style="font-size: var(--text-2xl);">text-2xl: The quick brown fox</p>
			<p style="font-size: var(--text-3xl);">text-3xl: The quick brown fox</p>
		</div>
	</div>
</StarlightPage>

<style>
	/* Reset Starlight's default margins inside our components */
	.demo-page .surface :where(h4, p),
	.demo-page .card :where(h4, p),
	.demo-page .btn {
		margin: 0;
	}

	.demo-page {
		max-width: 900px;
	}

	.intro {
		color: var(--text-secondary);
		margin-bottom: var(--spacing-6);
	}

	.customization-panel {
		background: var(--surface-raised);
		border: 1px solid var(--border-default);
		border-radius: var(--radius-xl);
		padding: var(--spacing-6);
		margin-bottom: var(--spacing-8);
	}

	.hue-sliders {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: var(--spacing-4);
	}

	.hue-slider label {
		display: block;
		font-size: var(--text-sm);
		font-weight: var(--font-medium);
		margin-bottom: var(--spacing-2);
	}

	.hue-slider input[type="range"] {
		width: 100%;
		accent-color: var(--interactive-primary);
	}

	.hue-value {
		font-family: var(--font-mono);
	}

	h2 {
		margin-top: var(--spacing-10);
		margin-bottom: var(--spacing-4);
		padding-bottom: var(--spacing-2);
		border-bottom: 1px solid var(--border-default);
	}

	h3 {
		color: var(--text-secondary);
		font-size: var(--text-base);
		margin-top: var(--spacing-6);
		margin-bottom: var(--spacing-3);
	}

	h4 {
		margin: 0 0 var(--spacing-2);
	}

	.color-scale {
		display: flex;
		border-radius: var(--radius-lg);
		overflow: hidden;
		margin-bottom: var(--spacing-4);
	}

	.color-swatch {
		flex: 1;
		min-width: 40px;
		height: 48px;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: var(--text-xs);
		font-weight: var(--font-medium);
	}

	.status-swatch {
		padding: var(--spacing-3) var(--spacing-4);
		border-radius: var(--radius-md);
		color: white;
		font-weight: var(--font-medium);
		font-size: var(--text-sm);
	}

	.demo-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: var(--spacing-4);
		margin-bottom: var(--spacing-4);
	}

	.demo-row {
		display: flex;
		flex-wrap: wrap;
		gap: var(--spacing-3);
		align-items: center;
		margin-bottom: var(--spacing-4);
	}

	/* Reset Starlight's lobotomized owl selector (adds margin-top to siblings) */
	.demo-page * + * {
		margin-top: 0;
	}

	.typography-demo {
		background: var(--surface-raised);
		padding: var(--spacing-6);
		border-radius: var(--radius-lg);
	}

	.typography-demo p {
		margin-bottom: var(--spacing-2);
	}

	.typography-demo p:last-child {
		margin-bottom: 0;
	}

	.demo-page .surface p,
	.demo-page .card p {
		color: var(--text-secondary);
		font-size: var(--text-sm);
		margin: 0;
	}
</style>

<script>
	document.getElementById('primary-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-primary', value);
		document.getElementById('primary-value')!.textContent = value;
	});

	document.getElementById('neutral-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-neutral', value);
		document.getElementById('neutral-value')!.textContent = value;
	});

	document.getElementById('accent-slider')?.addEventListener('input', (e) => {
		const value = (e.target as HTMLInputElement).value;
		document.documentElement.style.setProperty('--shift-hue-accent', value);
		document.getElementById('accent-value')!.textContent = value;
	});
</script>
